webpackJsonp([7],{124:function(t,e){function n(t,e){return!e||0==e.length||!!new RegExp(t).test(e)}var r=/^1[3|4|5|8|7|9][0-9]\d{8}$/,o=/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/,u=/^([1-9][\d]{0,7}|0)(\.[\d]{1,2})?$/,a=/^([\u4e00-\u9fa5]+|[a-zA-Z0-9]+)$/,i=/^[\u4e00-\u9fa5]+$/,s=/^\d{16,19}$/,c=/(\d(?!\d{5})|[A-Za-z](?![A-Za-z]{5})){6}/;t.exports={isFromWeixin:function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},isIos:function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},isMobile:function(t){return n(r,t)},isEmail:function(t){return n(o,t)},isMoney:function(t){return n(u,t)},isUsername:function(t){return n(a,t)},isChinese:function(t){return n(i,t)},isBankNo:function(t){return n(s,t)},isNotEmpty:function(t){return t&&t.length>0},isPwd:function(t){return n(c,t)},isSame:function(t,e){return t===e},isIdCard:function(t){if(!t)return!0;var e=t.toUpperCase();if(!/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(e))return!1;var n,r,o,u;if(15==(n=e.length)){o="19"+t.substring(6,8)+"-"+t.substring(8,10)+"-"+t.substring(10,12),u=parseInt(t.substr(14,1))%2==1?"M":"F",r=new RegExp(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/);var a=e.match(r),i=new Date("19"+a[2]+"/"+a[3]+"/"+a[4]);if(!(i.getYear()==Number(a[2])&&i.getMonth()+1==Number(a[3])&&i.getDate()==Number(a[4])))return!1;var s,c=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),f=new Array("1","0","X","9","8","7","6","5","4","3","2"),l=0;for(e=e.substr(0,6)+"19"+e.substr(6,e.length-6),s=0;s<17;s++)l+=e.substr(s,1)*c[s];e+=f[l%11]}else if(18==n){o=t.substring(6,10)+"-"+t.substring(10,12)+"-"+t.substring(12,14),u=parseInt(t.substr(16,1))%2==1?"M":"F",r=new RegExp(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/);var a=e.match(r),i=new Date(a[2]+"/"+a[3]+"/"+a[4]);if(!(i.getFullYear()==Number(a[2])&&i.getMonth()+1==Number(a[3])&&i.getDate()==Number(a[4])))return!1;var s,c=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),f=new Array("1","0","X","9","8","7","6","5","4","3","2"),l=0;for(s=0;s<17;s++)l+=e.substr(s,1)*c[s];if(f[l%11]!=e.substr(17,1))return!1}return{birthday:o,sex:u}}}},131:function(t,e,n){"use strict";var r=n(32),o=n.n(r),u=n(58),a=function(){return n.e(5).then(n.bind(null,147))},i=function(){return n.e(1).then(n.bind(null,148))},s=function(){return n.e(0).then(n.bind(null,149))},c=function(){return n.e(4).then(n.bind(null,150))};e.a=[{path:"/home",component:a,children:[o()({path:"/",component:i},Object(u.a)("首 页")),o()({path:"list",component:s},Object(u.a)("列表页",!0)),o()({path:"details/:id",component:c},Object(u.a)("文章详情页",!0))]}]},134:function(t,e,n){"use strict";var r,o=n(59),u=n.n(o),a=(n(33),n(18)),i={home:[],home_error:"请求出错啦",list:[],details:{}},s={_home:function(t){return t.home},_list:function(t){return t.list},_details:function(t){return t.details}},c={home:function(t){var e=t.commit,n=t.state;return Object(a.c)({url:"/api/test/homeList",data:{city:n.city}}).then(function(t){0==t.code?e("SET_HOME",{home:t.data}):e("SET_ERROR",{message:t.message,key:"home_error"})},function(t){console.log(1555,t)})},list:function(t,e){var n=t.commit,r=(t.state,e.name),o=e.userToken;return Object(a.c)({url:"/api/test/sectionList",data:{name:r,userToken:o},type:"POST"}).then(function(t){0==t.code?n("SET_LIST",{list:t.data}):n("SET_ERROR",{message:t.message,key:"list_error"})},function(t){console.log(35,t)})},details:function(t,e){var n=t.commit,r=(t.state,e.id),o=e.userToken;return Object(a.c)({url:"/api/test/details/"+r,type:"POST",data:{id:r,userToken:o}}).then(function(t){0==t.code?n("SET_DETAILS",{details:t.data}):n("SET_ERROR",{message:t.message,key:"home_error"})},function(t){console.log(1555,t)})}},f=(r={},u()(r,"SET_HOME",function(t,e){var n=e.home;t.home=n}),u()(r,"SET_LIST",function(t,e){var n=e.list;t.list=n}),u()(r,"SET_DETAILS",function(t,e){var n=e.details;t.details=n}),u()(r,"SET_ERROR",function(t,e){var n=e.message;e.key;t.home_error=n,console.log("sssetHome",t)}),r);e.a={state:i,getters:s,actions:c,mutations:f}},138:function(t,e,n){"use strict";var r=n(59),o=n.n(r),u=n(33),a=n(18),i={userToken:""},s={_Token:function(t){return t.userToken}},c={submit:function(t,e){var n=t.commit,r=(t.state,e||{}),o=r.data,i=r.success;return Object(a.c)({url:"/api/test/userToken",type:"POST",data:o}).then(function(t){0==t.code?n("LOGIN",{userToken:t.data.userToken}):u.a.warning(t.message),i&&i(t)},function(t){t&&t(t),console.log("1555login",t)})}},f=o()({},"LOGIN",function(t,e){var n=e.userToken;t.userToken=n});e.a={state:i,getters:s,actions:c,mutations:f}},139:function(t,e){},140:function(t,e,n){"use strict";function r(t){n(141)}var o=n(142),u=n(60),a=r,i=u(null,o.a,a,null,null);e.a=i.exports},141:function(t,e){},142:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-content",attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{staticClass:"view"})],1)],1)},o=[],u={render:r,staticRenderFns:o};e.a=u},144:function(t,e,n){"use strict";function r(t){var e=t.replace(/^https?:\/\//,"").replace(/\/.*$/,""),n=e.split(".").slice(-3);return"www"===n[0]&&n.shift(),n.join(".")}function o(t){var e=Date.now()/1e3-Number(t);return e<3600?u(~~(e/60)," minute"):e<86400?u(~~(e/3600)," hour"):u(~~(e/86400)," day")}function u(t,e){return 1===t?t+e:t+e+"s"}Object.defineProperty(e,"__esModule",{value:!0}),e.host=r,e.timeAgo=o},18:function(t,e,n){"use strict";function r(t,e){return t.status&&200!=t.status?o(t.data||t,t.status):!t||t.data&&t.data.code>2e4?void g.push({path:"/login",query:{redirect:g.currentRoute.fullPath}}):f.a.resolve(t.data)}function o(t,e){return console.log("网络异常，请稍后重试("+e+")"),f.a.reject(t.data||t)}n.d(e,"c",function(){return v}),n.d(e,"b",function(){return b});var u=n(32),a=n.n(u),i=n(103),s=n.n(i),c=n(34),f=n.n(c),l=(n(5),n(104)),d=n.n(l),h=(n(19),n(57)),p=n(31),g=Object(h.a)();Object(p.a)();d.a.defaults.timeout=5e3,d.a.defaults.baseURL="/zaApi/easy",d.a.interceptors.request.use(function(t){return t},function(t){return f.a.reject(t)}),d.a.interceptors.response.use(function(t){return t.status>=200&&t.status<300?t:f.a.reject(t)},function(t){if(t.response)switch(t.response.status){case 401:console.log(t),g.replace({path:"login",query:{redirect:g.currentRoute.fullPath}})}return f.a.reject(t)});var m=function(t){var e=t.url,n=t.type,r=t.data,o=(t.userToken,s()(t,["url","type","data","userToken"])),u=a()({},o,{method:(n||"get").toUpperCase(),data:r,url:e,headers:{Accept:"application/json","Content-Type":"application/json"}});return new f.a(function(t,e){d()(u).then(function(e){t(e)}).catch(function(t){e(t||{message:"网络异常，请刷新重试",type:1})})})},v=function(t){return m(t).then(function(t){return r(t)},function(t){return o(t,t.status)})},b=function(t){var e=(t||[]).map(function(t){return m(t)});return d.a.all(e).then(function(t){var e=t[0];if(e&&e.data&&e.data.code>2e4)return void g.push({path:"/login",query:{redirect:g.currentRoute.fullPath}});var n=(t||[]).map(function(t){return t.data});return f.a.resolve(n)},function(t){return o(t.data||t,t.status)})};d.a.prototype.fetchSingle=v,d.a.prototype.fetchGroup=b,e.a=d.a},19:function(t,e,n){"use strict";var r=n(124),o=(n.n(r),{date:function(t,e){if(!t||!e)return t;8==t.length&&(t=t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)),t=new Date(t.toString().replace(/-/g,"/"));var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},getBirthdayByIdCard:function(t){if(Object(r.isIdCard)(t)){var e=void 0;return 15==t.length?(e=t.substring(6,12),e="19"+e,e=e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6)):(e=t.substring(6,14),e=e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6))}},getSexByIdCard:function(t){if(Object(r.isIdCard)(t))return parseInt(t.substr(16,1))%2},setCookie:function(t,e){var n=new Date;n.setTime(n.getTime()+6048e5),document.cookie=t+"="+escape(e)+";expires="+n.toGMTString()+";path=/"},getCookie:function(t){var e,n=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(n))?unescape(e[2]):null},removeCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var n=getCookie(t);null!=n&&(document.cookie=t+"="+n+";expires="+e.toGMTString()+";path=/")},clientCookie:function(){var t={},e=document.cookie;if(!e)return t;for(var n=e.split(";"),r=0;r<n.length;r++){var o=n[r].split("=");t[o[0]]=o[1]}return t},getAllCookies:function(t){return o.clientCookie()},n:function(t){return t<10?"0"+t:""+t}});e.a=o},31:function(t,e,n){"use strict";function r(){return new u.a.Store({modules:{home:a.a,login:i.a}})}e.a=r;var o=n(5),u=n(61),a=n(134),i=n(138);o.default.use(u.a)},33:function(t,e,n){"use strict";var r=n(5),o=new r.default({methods:{default:function(t,e,n,r){this.$Message.config({top:180}),this.$Message[t||"info"]({content:e||"提示",duration:n||3,closable:r||!1})},info:function(t,e,n){o.default("info",t,e,n)},success:function(t,e,n){o.default("success",t,e,n)},warning:function(t,e,n){o.default("warning",t,e,n)},error:function(t,e,n){o.default("error",t,e,n)},destroy:function(){this.$Message.destroy()}}});e.a=o},57:function(t,e,n){"use strict";function r(){return g}e.a=r;var o=n(125),u=n.n(o),a=n(5),i=n(130),s=n(131),c=n(133),f=n.n(c),l=n(31),d=(n(19),n(139)),h=(n.n(d),function(){return n.e(2).then(n.bind(null,151))}),p=function(){return n.e(3).then(n.bind(null,152))};Object(l.a)();a.default.use(f.a),a.default.use(i.a);var g=new i.a({mode:"history",scrollBehavior:function(){return{y:0}},routes:[].concat(u()(s.a),[{path:"/login/:page(\\d+)?",component:p,meta:{title:"登录页"}},{path:"/",redirect:"/home"},{path:"*",component:h,meta:{requireAuth:!1,title:"页面不存在"}}])});g.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.requireAuth}),n()})},58:function(t,e,n){"use strict";function r(t){var e=t&&t.$route&&t.$route||{},n=e.meta;return n&&n.title}n.d(e,"b",function(){return o}),n.d(e,"a",function(){return u});var o={mounted:function(){var t=r(this);t&&(document.title=t||"vue服务端渲染示例")}},u=function(t,e){return{meta:{requireAuth:e||!1,title:t||"vue服务端渲染示例"}}}},62:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(34),o=n.n(r),u=n(5),a=n(90),i=(n.n(a),n(92)),s=n(19);u.default.mixin({beforeRouteUpdate:function(t,e,n){var r=this.$options.asyncData;r?(r({store:this.$store,route:t}).then(n).catch(n),console.log("home时的哦v内容",this.$store)):n()}});var c=Object(i.a)(),f=c.app,l=c.router,d=c.store;window.__INITIAL_STATE__&&d.replaceState(window.__INITIAL_STATE__),l.onReady(function(){l.beforeResolve(function(t,e,n){var r=l.getMatchedComponents(t),u=l.getMatchedComponents(e),a=!1,i=r.filter(function(t,e){return a||(a=u[e]!==t)}),c=function(){var e=i.map(function(t){return t.asyncData}).filter(function(t){return t});if(!e.length)return n();o.a.all(e.map(function(e){return e({store:d,route:t})})).then(function(){n()}).catch(n)};if(t.matched.some(function(t){return t.meta.requireAuth})){var f=s.a.getCookie("userToken");return void(f&&""!=f?c():n({path:"/login",query:{redirect:t.fullPath}}))}c()}),f.$mount("#app")}),"https:"===location.protocol&&navigator.serviceWorker&&navigator.serviceWorker.register("/service-worker.js")},92:function(t,e,n){"use strict";function r(){var t=Object(c.a)(),e=Object(f.a)();return Object(l.sync)(t,e),{app:new a.default({router:e,store:t,render:function(t){return t(s.a)}}),router:e,store:t}}e.a=r;var o=n(93),u=n.n(o),a=n(5),i=n(18),s=n(140),c=n(31),f=n(57),l=n(143),d=(n.n(l),n(58)),h=n(144);a.default.mixin(d.b),a.default.prototype.axios=i.a,u()(h).forEach(function(t){a.default.filter(t,h[t])})}},[62]);